{"version":3,"file":"main.js","sources":["../../modules/utils/utils.mjs","../../modules/components/timer.mjs","../../lib/game/constants.js","../../lib/game/loader.js","../../lib/game/Hiro.js","../../lib/game/Stage.js","../../lib/game/GameWorld.js","../../lib/main.js"],"sourcesContent":["/* global unsafeWindow, globalThis */\n\n\n\nexport const\n\n    IS_UNSAFE = typeof unsafeWindow !== 'undefined',\n    IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined',\n    IS_TOUCH = typeof ontouchstart !== 'undefined',\n    noop = () => { },\n    identity = x => x,\n    global = IS_UNSAFE ? unsafeWindow : globalThis ?? window,\n    { JSON, document } = global,\n    isPlainObject = (param) => param instanceof Object && Object.getPrototypeOf(param) === Object.prototype,\n    isUndef = (param) => typeof param === 'undefined',\n    isString = (param) => typeof param === 'string',\n    isNumber = (param) => typeof param === 'number',\n    isInt = (param) => Number.isInteger(param),\n    isFloat = (param) => isNumber(param) && parseFloat(param) === param,\n    isUnsigned = (param) => param >= 0 && isNumber(param),\n    isUnsignedInt = (param) => param >= 0 && isInt(param),\n    isNumeric = (param) => isInt(param) || isFloat(param) || /^-?(?:[\\d]+\\.)?\\d+$/.test(param),\n    intVal = (param) => isNumeric(param) && parseInt(param),\n    floatVal = (param) => isNumeric(param) && parseFloat(param),\n    isBool = (param) => typeof param === 'boolean',\n    isArray = (param) => Array.isArray(param),\n    isNull = (param) => param === null,\n    isObject = (param) => typeof param === 'object' && !isNull(param),\n    isCallable = (param) => typeof param === 'function',\n    isFunction = isCallable,\n    isScalar = (param) => isNumeric(param) || isString(param) || isBool(param),\n    capitalize = (param) => isString(param) && param.split(/\\s+/).map(param => param.charAt(0).toUpperCase() + param.slice(1).toLowerCase()).join(' ');\n\n\n\nconst\n    VALID_REFERERRPOLICY = [\n        'no-referrer', 'no-referrer-when-downgrade',\n        'origin', 'origin-when-cross-origin',\n        'same-origin', 'strict-origin',\n        'strict-origin-when-cross-origin', 'unsafe-url'\n    ],\n    VALID_CROSSORIGIN = ['', 'use-credentials', 'anonymous'];\n\n\n\nexport function getClass(param)\n{\n\n    if (isFunction(param))\n    {\n        return param.name;\n    }\n    else if (param instanceof Object)\n    {\n        return Object.getPrototypeOf(param).constructor.name;\n    }\n\n}\n\nexport function isEmpty(param)\n{\n\n    if (isUndef(param) || param === null)\n    {\n        return true;\n    }\n    if (isString(param) || isArray(param))\n    {\n        return param.length === 0;\n    }\n    if (isNumber(param))\n    {\n        return param === 0;\n    }\n\n    if (isPlainObject(param))\n    {\n        return Object.keys(param).length === 0;\n    }\n    return false;\n}\n\nexport function runAsync(callback, ...args)\n{\n    if (isFunction(callback))\n    {\n        setTimeout(callback, 0, ...args);\n    }\n}\n\n\n/**\n * Creates a promise that resolves a value\n * \n * @param {any} value \n * @param {Function} onResolve A transformation function\n * @param {Function} onReject \n */\nexport function promisify(value, onResolve = identity, onReject = (val, err) => err)\n{\n\n    if (value instanceof Promise)\n    {\n\n        return value.then(val =>\n        {\n            let newval = onResolve(val);\n            if (isUndef(newval))\n            {\n                return val;\n            }\n            return newval;\n\n        }).catch(err => onReject(value, err));\n    }\n\n    return promisify(Promise.resolve(value), onResolve, onReject);\n}\n\n\n\nexport function isValidSelector(selector)\n{\n\n    try\n    {\n        return isString(selector) && null === document.createElement('template').querySelector(selector);\n\n    } catch (e)\n    {\n        return false;\n    }\n\n}\n\n\nexport function uuidv4()\n{\n    let uuid = \"\", i, random;\n    for (i = 0; i < 32; i++)\n    {\n        random = Math.random() * 16 | 0;\n        if (i == 8 || i == 12 || i == 16 || i == 20)\n        {\n            uuid += \"-\";\n        }\n        uuid += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16);\n    }\n    return uuid;\n}\n\n\nexport function isElement(elem)\n{\n    return elem instanceof Object && isFunction(elem.querySelector);\n}\n\n\nexport function toCamel(name = '')\n{\n\n    if (!isString(name))\n    {\n        throw new TypeError('name must be a String');\n    }\n\n    let index;\n    while (-1 < (index = name.indexOf(\"-\")))\n    {\n        name = name.slice(0, index) + name.slice(index + 1, 1).toUpperCase() + name.slice(index + 2);\n    }\n    return name;\n}\n\nexport function toDashed(name)\n{\n    return name.replace(/([A-Z])/g, function (u)\n    {\n        return \"-\" + u.toLowerCase();\n    });\n}\n\nexport function isHTML(param)\n{\n    return isString(param) && param.startsWith('<') && param.endsWith('>');\n}\n\n\n\nexport function isJSON(param)\n{\n\n    if (!isString(param))\n    {\n        return false;\n    }\n\n    return (\n        isNumeric(param) ||\n        ['true', 'false', 'null'].includes(param) ||\n        ['{', '[', '\"'].includes(param.slice(0, 1)) ||\n        ['}', ']', '\"'].includes(param.slice(-1))\n    );\n\n}\n\n\nexport function decode(value)\n{\n\n    if (isUndef(value) || isNull(value))\n    {\n        return null;\n    }\n    if (isJSON(value))\n    {\n        try\n        {\n            return JSON.parse(value);\n        } catch (error)\n        {\n            // fallback for invalid json data\n            return value;\n        }\n\n    }\n\n    return value;\n}\n\n\nexport function encode(value)\n{\n\n    if (isFunction(value) || isUndef(value))\n    {\n        return value;\n    }\n\n\n    return isString(value) ? value : JSON.stringify(value);\n}\n\n\nfunction parseAttributes(obj, /** @type {string|undefined} */ name)\n{\n\n    let result = [];\n\n    for (let key in obj)\n    {\n        const value = obj[key];\n\n        if (isPlainObject(value))\n        {\n            result = result.concat(parseAttributes(value)).map(\n                item => [[key, item[0]].join('-'), item[1]]\n            );\n\n            continue;\n        }\n        result.push([key, encode(value)]);\n    }\n    return result.map(item => name ? [[name, item[0]].join('-'), item[1]] : item);\n}\n\n\n\n\n\nfunction validateHtml(html)\n{\n    return isString(html) || isElement(html) || isArray(html);\n}\n\nconst RESERVED_KEYS = [\n    'data', 'dataset',\n    'html', 'tag',\n    'callback'\n];\n\n\n/**\n * Shorthand to create element effortlessly\n * if no params are given a <div></div> will be generated\n * \n * @param {String} [tag] tag name / html / emmet\n * @param {Object} [params] params to inject into element\n * @param {String|HTMLElement|String[]|HTMLElement[]} [html] \n * @returns \n */\nexport function createElement(\n    tag = 'div',\n    params = {},\n    html = null\n)\n{\n\n    if (isPlainObject(tag))\n    {\n        params = tag;\n        tag = params.tag ?? 'div';\n    }\n\n    if (typeof tag !== 'string')\n    {\n        throw new TypeError('tag must be a String');\n    }\n\n    if (validateHtml(params))\n    {\n        html = params;\n        params = {};\n    }\n\n    const elem = isHTML(tag) ? html2element(tag) : document.createElement(tag);\n\n    let callback;\n\n    if (!isElement(elem))\n    {\n        throw new TypeError(\"Invalid tag supplied \" + tag);\n    }\n\n    if (isPlainObject(params))\n    {\n        const data = [];\n\n        callback = params.callback;\n\n        if (!validateHtml(html))\n        {\n            html = params.html;\n        }\n\n        if (isPlainObject(params.data))\n        {\n            data.push(...parseAttributes(params.data, 'data'));\n        }\n\n        if (isPlainObject(params.dataset))\n        {\n            data.push(...parseAttributes(params.dataset, 'data'));\n        }\n\n\n        data.forEach(item => elem.setAttribute(...item));\n\n\n        if (isArray(params.class))\n        {\n            params.class = params.class.join(\" \");\n        }\n\n        for (let attr in params)\n        {\n            if (RESERVED_KEYS.includes(attr))\n            {\n                continue;\n            }\n\n            let value = params[attr];\n\n            if (isString(value))\n            {\n                let current = elem.getAttribute(attr) ?? '';\n                if (current.length > 0)\n                {\n                    value = current + ' ' + value;\n                }\n\n                elem.setAttribute(attr, value);\n            }\n            else if (isPlainObject(value))\n            {\n                parseAttributes(value, attr).forEach(item => elem.setAttribute(...item));\n            }\n            else\n            {\n                elem[attr] = value;\n            }\n        }\n\n\n    }\n\n    if (validateHtml(html))\n    {\n        if (!isArray(html))\n        {\n            html = [html];\n        }\n\n        for (let child of html)\n        {\n            if (isElement(child))\n            {\n                elem.appendChild(child);\n            }\n            else\n            {\n                elem.innerHTML += child;\n            }\n        }\n    }\n\n    if (isFunction(callback))\n    {\n        callback(elem);\n    }\n\n    return elem;\n\n}\n\n\n/**\n * Generate a unique ID\n * @returns {String}\n */\nexport function uniqid()\n{\n\n    let value = '';\n    uniqid.values ??= new Set();\n    do\n    {\n        value = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    }\n    while (uniqid.values.has(value));\n    uniqid.values.add(value);\n    return value;\n}\n\n\n\n\n/**\n * Clones an Object/Array\n * @param {Object} obj\n * @returns {Object|undefined}\n */\nexport function clone(obj)\n{\n\n    if (isArray(obj))\n    {\n        return Array.from(obj);\n    }\n\n\n    if (obj instanceof Object)\n    {\n        return Object.assign({}, obj);\n    }\n\n    return obj;\n}\n\n/**\n * Clones Object recursively\n * \n * @param {Object} obj \n * @returns \n */\nexport function cloneRecursive(obj)\n{\n    if (obj instanceof Object)\n    {\n\n        if (isArray(obj))\n        {\n\n            return Array.from(obj).map(value =>\n            {\n                if (isPlainObject(value) || isArray(value))\n                {\n                    return cloneRecursive(value);\n                }\n                return value;\n            });\n        }\n\n        if (!isPlainObject(obj))\n        {\n            throw new TypeError('Invalid Object supplied.');\n        }\n\n        obj = clone(obj);\n        for (let prop in obj)\n        {\n            if (isPlainObject(obj[prop]) || isArray(obj[prop]))\n            {\n                obj[prop] = cloneRecursive(obj[prop]);\n            }\n        }\n\n    }\n\n    return obj;\n}\n\n/**\n * Convert an element to its outer html\n * \n * @param {HTMLElement|NodeList|HTMLElement[]} elem \n * @returns {String|undefined}\n */\nexport function element2html(elem)\n{\n\n    if (isElement(elem))\n    {\n        elem = [elem];\n    }\n    if (elem instanceof NodeList)\n    {\n        elem = [...elem];\n    }\n\n    if (isArray(elem))\n    {\n        return createElement('div', elem.map(el => el.cloneNode(true))).innerHTML;\n    }\n}\n\n\n\n\n\n/**\n * Creates a Document from html code\n * @param {string} html\n * @returns {documentElement}\n */\nexport function html2doc(html)\n{\n    let node = document.implementation.createHTMLDocument().documentElement;\n    if (isString(html) && html.length > 0)\n    {\n        node.innerHTML = html;\n    }\n    return node;\n}\n\n/**\n * Creates an HTMLElement from html code\n * @param {string} html\n * @returns {HTMLElement|Array|undefined}\n */\nexport function html2element(html)\n{\n    if (isString(html) && html.length > 0)\n    {\n        let template = createElement('template', html),\n            content = template.content;\n        if (content.childNodes.length === 0)\n        {\n            return;\n        }\n        else if (content.childNodes.length > 1)\n        {\n            return [...content.childNodes];\n        }\n        return content.childNodes[0];\n    }\n}\n\n\n/**\n * Resolves an URL\n * \n * @param {URL|String} url \n * @returns {URL|undefined}\n */\nexport function getUrl(url)\n{\n    if (isString(url))\n    {\n        const a = getUrl.a ??= createElement(\"a\");\n        getUrl.a.href = url;\n        url = new URL(a.href);\n    }\n\n\n    if (url instanceof URL)\n    {\n        return url;\n    }\n\n}\n\nexport function selectText(node)\n{\n    if (document.body.createTextRange)\n    {\n        const range = document.body.createTextRange();\n        range.moveToElementText(node);\n        range.select();\n    } else if (window.getSelection)\n    {\n        const selection = window.getSelection(), range = document.createRange();\n        range.selectNodeContents(node);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    } else\n    {\n        console.warn(\"Could not select text in node: Unsupported browser.\");\n    }\n}\n\nexport function removeAccent(str)\n{\n    let accent = [\n        /[\\300-\\306]/g, /[\\340-\\346]/g, // A, a\n        /[\\310-\\313]/g, /[\\350-\\353]/g, // E, e\n        /[\\314-\\317]/g, /[\\354-\\357]/g, // I, i\n        /[\\322-\\330]/g, /[\\362-\\370]/g, // O, o\n        /[\\331-\\334]/g, /[\\371-\\374]/g, // U, u\n        /[\\321]/g, /[\\361]/g, // N, n\n        /[\\307]/g, /[\\347]/g, // C, c\n    ], noaccent = ['A', 'a', 'E', 'e', 'I', 'i', 'O', 'o', 'U', 'u', 'N', 'n', 'C', 'c'];\n\n\n    for (var i = 0; i < accent.length; i++)\n    {\n        str = str.replace(accent[i], noaccent[i]);\n    }\n\n    return str;\n}\n\n\n\nexport function loadScript(url, options)\n{\n    return new Promise((resolve, reject) =>\n    {\n        const params = Object.assign({\n            async: null,\n            defer: null,\n            crossorigin: null,\n            referrerpolicy: null,\n            type: null,\n        }, options ?? {});\n\n        let { async, defer, crossorigin, referrerpolicy, type } = params;\n\n        if (async !== true)\n        {\n            async = null;\n        }\n\n        if (defer !== true)\n        {\n            defer = null;\n        }\n\n        if (VALID_CROSSORIGIN.includes(crossorigin))\n        {\n            crossorigin = null;\n        }\n        if (VALID_REFERERRPOLICY.includes(referrerpolicy))\n        {\n            referrerpolicy = null;\n        }\n        if (type !== 'module')\n        {\n            type = null;\n        }\n\n        if (url = getUrl(url))\n        {\n\n            const script = createElement('script', {\n                src: url,\n                onload: () => resolve(script),\n                onerror: () => reject(new Error(\"Cannot load \" + url)),\n                id: uniqid()\n            });\n\n            for (let param in params)\n            {\n                let value = params[param];\n                if (null !== value)\n                {\n                    script[param] = value;\n                }\n            }\n\n            document.getElementsByTagName('head')[0].appendChild(script);\n        }\n\n    });\n}\n\n\n/**\n * PHP BackedEnum like Api\n * Accepts more types than (str|int)\n */\nexport class BackedEnum\n{\n\n\n    /**\n     * This is the first defined case\n     * Overrirde this to set your own default case\n     */\n    static get default()\n    {\n        return this.cases()[0];\n    }\n\n\n    /**\n     * Get the enum from the value\n     */\n    static tryFrom(value)\n    {\n\n        if (getClass(value) === getClass(this) && !isFunction(value))\n        {\n            return value;\n        }\n\n        return this.cases().find(x => x.value === value);\n    }\n\n    /**\n     * Throws if enum does not exists\n     */\n    static from(value)\n    {\n\n        const result = this.tryFrom(value);\n\n        if (isUndef(result))\n        {\n            throw new TypeError(\"Cannot find matching enum to: \" + encode(value));\n        }\n        return result;\n    }\n\n\n    /**\n     * \n     * @returns {BackedEnum[]}\n     */\n    static cases()\n    {\n        return this.keys.map(x => this[x]);\n    }\n\n\n    /**\n     * Gets names from the enums\n     * they must be camel cased or uppercased\n     */\n    static get keys()\n    {\n        return Object.keys(this).filter(name => name[0] === name[0].toUpperCase() && this[name] instanceof BackedEnum);\n    }\n\n    /**\n     * Get the number of values\n     * length is buggy on static classes\n     */\n    static get size()\n    {\n        return this.keys.length;\n    }\n\n\n    //------------------- Instance implementation -------------------\n\n\n    /**\n     * Get current enum name\n     * Only works if enum instanciated correctly\n     * and after the constructor has been called\n     */\n    get name()\n    {\n        return Object.keys(this.constructor).find(\n            key => this.constructor[key] === this\n        ) ?? '';\n    }\n\n\n    constructor(value)\n    {\n\n        if (Object.getPrototypeOf(this) === BackedEnum.prototype)\n        {\n            throw new Error('Cannot instantiate BackedEnum directly, it must be extended.');\n        }\n\n        if (isUndef(value) || isFunction(value))\n        {\n            throw new TypeError('value is not valid');\n        }\n\n        Object.defineProperty(this, \"value\", {\n            writable: false, configurable: false, enumerable: true,\n            value\n        });\n\n\n    }\n}\n\n/**\n * Make a queue of functions to run later\n */\n\nexport function runLater(...fns)\n{\n\n\n    const toRun = new Map();\n\n    for (let arr of fns)\n    {\n        if (!isArray(arr))\n        {\n            arr = [arr];\n        }\n\n        let fn = arr.shift();\n\n        if (isFunction(fn))\n        {\n            toRun.set(fn, arr);\n        }\n    }\n\n    return () =>\n    {\n\n        const result = [];\n        for (const [fn, args] of toRun.entries())\n        {\n            result.push(fn(...args));\n        }\n        return result;\n\n    };\n}\n\n","import { isInt } from \"../utils/utils.mjs\";\n\nexport const\n    MILISECOND = 1,\n    SECOND = 1000,\n    MINUTE = 60 * SECOND,\n    HOUR = 60 * MINUTE,\n    DAY = 24 * HOUR,\n    WEEK = 7 * DAY,\n    MONTH = 30 * DAY,\n    YEAR = 365 * DAY;\n\n\nconst DIVIDERS = {\n    days: DAY,\n    hours: HOUR,\n    minutes: MINUTE,\n    seconds: SECOND,\n    miliseconds: MILISECOND\n};\n\nexport class Chronometer\n{\n    #start;\n    #running = false;\n    #paused = false;\n    #elapsed = 0;\n    #laps;\n\n\n    get startTime()\n    {\n        return this.#start;\n    }\n\n    get stopped()\n    {\n        return !this.start;\n    }\n\n\n    get running()\n    {\n        return this.#running;\n    }\n\n    get paused()\n    {\n        return this.#paused;\n    }\n\n    get elapsed()\n    {\n\n        if (this.#running)\n        {\n            return +new Date() - this.#start;\n        }\n        return this.#elapsed;\n    }\n\n    get laps()\n    {\n        return this.#laps;\n    }\n\n\n\n    start()\n    {\n        if (!this.#running && !this.#start)\n        {\n            this.#running = true;\n            this.#laps = [];\n            this.#elapsed = 0;\n            this.#start = +new Date();\n        }\n    }\n\n\n    stop()\n    {\n        if (!this.#running)\n        {\n            return this.#elapsed;\n        }\n        this.#running = false;\n        this.#start = 0;\n        return this.#elapsed = +new Date() - this.#start;\n    }\n\n\n    pause()\n    {\n        if (!this.#paused && this.#running)\n        {\n            this.#paused = true;\n            this.#running = false;\n            this.#elapsed = +new Date() - this.#start;\n        }\n        return this.#elapsed;\n    }\n\n\n    resume()\n    {\n\n        if (!this.#paused || this.stopped)\n        {\n            return;\n        }\n\n        this.#paused = false;\n        this.#running = true;\n        this.#start = +new Date() - this.#elapsed;\n    }\n\n\n    lap()\n    {\n\n        let prevLap = this.#laps[this.#laps.length - 1];\n\n        if (!this.#running)\n        {\n            return prevLap ?? 0;\n        }\n\n        let\n            prev = prevLap ?? this.#start,\n            current = this.elapsed,\n            time = current - prev;\n\n        this.#laps.push(time);\n\n        return time;\n    }\n\n\n\n    constructor(auto = true)\n    {\n        this.#laps = [];\n        if (auto)\n        {\n            this.start();\n        }\n    }\n\n}\n\n\n\nexport class TimeReader\n{\n\n    #timestamp;\n    #data;\n\n    get data()\n    {\n        return this.#data;\n    }\n\n    get days()\n    {\n        return '' + this.#data.days;\n    }\n    get hours()\n    {\n        return this.#data.hours < 10 ? `0${this.#data.hours}` : `${this.#data.hours}`;\n    }\n\n    get minutes()\n    {\n        return this.#data.minutes < 10 ? `0${this.#data.minutes}` : `${this.#data.minutes}`;\n    }\n    get seconds()\n    {\n        return this.#data.seconds < 10 ? `0${this.#data.seconds}` : `${this.#data.seconds}`;\n    }\n    get miliseconds()\n    {\n        return this.#data.miliseconds < 10 ? (this.#data.miliseconds < 100 ? '00' + this.#data.miliseconds : '0' + this.#data.miliseconds) : '' + this.#data.miliseconds;\n    }\n\n    get timestamp()\n    {\n        return this.#timestamp;\n    }\n\n    static of(timestamp)\n    {\n        return new TimeReader(timestamp);\n    }\n\n    constructor(timestamp)\n    {\n        if (!isInt(timestamp))\n        {\n            throw new TypeError('timestamp must be an integer');\n        }\n\n        this.#timestamp = timestamp;\n        this.#data = {};\n\n\n        for (let key in DIVIDERS)\n        {\n\n            let\n                divider = DIVIDERS[key],\n                value = Math.floor(timestamp / divider);\n            timestamp -= value * divider;\n            this.#data[key] = value;\n        }\n    }\n\n    toString()\n    {\n        return `${this.days}d ${this.hours}:${this.minutes}:${this.seconds}.${this.miliseconds}s`;\n    }\n\n\n    export()\n    {\n\n        return Object.assign({ timestamp: this.#timestamp }, this.#data);\n    }\n\n}\n\n","\n\n\n\nexport const\n    PICTURES = './assets/pictures',\n    WORLDS = PICTURES + '/worlds',\n    HERO = PICTURES + '/hiro';","\n\nexport let loading = 0;\n\nconst listeners = new Set();\n\n\nexport function onLoaded(fn)\n{\n\n    if (isFunction(fn))\n    {\n        listeners.add(fn);\n        return () =>\n        {\n            listeners.delete(fn);\n        };\n    }\n}\n\n\nexport default function createLoader(fn)\n{\n\n    let count = 0;\n\n    return (elem) =>\n    {\n        count++;\n        loading++;\n\n        elem.onload = () =>\n        {\n            count--;\n            loading--;\n            if (count === 0)\n            {\n                fn();\n                if (loading === 0)\n                {\n                    listeners.forEach(fn => fn());\n                }\n            }\n        };\n    };\n\n}","import { BackedEnum, isInt } from \"../../modules/utils/utils.mjs\";\nimport { HERO } from \"./constants\";\nimport createLoader from \"./loader\";\n\n\nconst ANIMATIONS = {\n    left: [...Array(9)].map((_, n) =>\n        HERO + '/left/' + (n + 1) + '.png'\n    ),\n    right: [...Array(9)].map((_, n) =>\n        HERO + '/right/' + (n + 1) + '.png'\n    ),\n};\n\n\nconst imageLoader = createLoader(() => console.debug('all loaded'));\n\n\nfunction animate(sprites)\n{\n    let index = 0, counter = 0;\n    const images = sprites.map(src =>\n    {\n        const img = new Image();\n        imageLoader(img);\n        img.src = src;\n        return img;\n    });\n\n\n    return () =>\n    {\n\n        counter++;\n\n        if ((counter % 4) === 0)\n        {\n            index++;\n        }\n\n        if (index >= images.length)\n        {\n            index = 0;\n        }\n        return images[index] ?? images[0];\n    };\n\n}\n\n\n\nconst\n    animationLeft = animate(ANIMATIONS.left),\n    animationRight = animate(ANIMATIONS.right);\n\n\nexport class Direction extends BackedEnum\n{\n    static LEFT = new Direction('left');\n    static RIGHT = new Direction('right');\n\n\n\n    get method()\n    {\n        return this.value === 'left' ? animationLeft : animationRight;\n    }\n}\n\n\n\n\nexport default class Hiro\n{\n\n    element;\n    hp = 3; //à définir \n    jumpHeight = 200; //basée sur des pixels\n    gravity = 1; //Attraper des modificateurs ?\n    jumpEventActive = true; // Désactiver la fonction de saut si le personnage est déjà en l'air => false\n    x = 100;\n    y = 350;\n\n    minY = 150;\n    maxY = 350;\n    isJumping = false;\n    deltaY = 0;\n\n    direction = Direction.RIGHT;\n\n    constructor(world)\n    {\n\n\n        this.world = world;\n        addEventListener('keyup', ({ key }) =>\n        {\n\n            console.debug(key);\n\n            if (/\\s+/.test(key) && !this.isJumping)\n            {\n                this.isJumping = true;\n            }\n\n            if (key === 'ArrowLeft')\n            {\n                this.direction = Direction.LEFT;\n            }\n\n            if (key === 'ArrowRight')\n            {\n                this.direction = Direction.RIGHT;\n            }\n\n        });\n\n    }\n\n\n    draw()\n    {\n        const { ctx } = this.world;\n        if (this.isJumping)\n        {\n            this.jump();\n        }\n\n        ctx.drawImage(this.direction.method(),\n            this.x, this.y,\n            150, 150\n        );\n    }\n\n\n    jump()\n    {\n\n        if (!this.isJumping) { return; }\n        if (this.deltaY === 0)\n        {\n            this.deltaY = -15;\n        } else if (this.y <= this.minY)\n        {\n            this.deltaY = -1 * this.deltaY;\n        } else if (this.y >= this.maxY)\n        {\n            this.deltaY = 0;\n            this.isJumping = false;\n        }\n\n        this.y += this.deltaY;\n\n\n\n\n    }\n\n\n\n\n\n}","import { decode } from \"../../modules/utils/utils.mjs\";\nimport { WORLDS } from \"./constants\";\n\n\nconst STAGES = [...Array(8)].map((_, n) => WORLDS + '/stage' + (n + 1) + '.png');\n\n\n\n\nexport default class Stage\n{\n\n\n\n    level = 1;\n\n    scrollSpeed = 10;\n    deltaX = 0;\n\n    get width()\n    {\n        return decode(this.world.canvas.width);\n\n\n    }\n\n    get height()\n    {\n        return decode(this.world.canvas.height);\n    }\n\n    #image;\n\n    get decor()\n    {\n\n        this.#image ??= new Image();\n        const src = STAGES[this.level] ?? STAGES[0];\n        if (!this.#image.src.endsWith(src))\n        {\n            this.#image.src = src;\n        }\n\n\n        return this.#image;\n    }\n\n    constructor(world)\n    {\n        this.world = world;\n    }\n\n\n\n    draw()\n    {\n        const { ctx } = this.world;\n        let { decor } = this;\n        this.deltaX += this.scrollSpeed;\n        if (this.deltaX >= this.width)\n        {\n            this.deltaX = 0;\n\n        }\n\n\n        ctx.drawImage(decor,\n            this.deltaX, 0,\n            this.width - this.deltaX, this.height,\n            0, 0,\n            this.width - this.deltaX, this.height\n        );\n\n        ctx.drawImage(decor,\n            0, 0,\n            this.deltaX, this.height,\n            this.width - this.deltaX, 0,\n            this.deltaX, this.height\n\n        );\n\n\n\n    }\n}","\nimport { TimeReader } from \"../../modules/components/timer.mjs\";\nimport Hiro from \"./Hiro\";\nimport Stage from \"./Stage\";\n\n\nexport default class GameWorld\n{\n\n\n\n    get ctx()\n    {\n        return this.canvas.getContext('2d');\n    }\n\n\n    constructor({ element, chrono, timer } = {})\n    {\n        this.canvas = element.querySelector('canvas');\n\n        this.chrono = chrono;\n        this.timer = timer;\n    }\n\n\n    init()\n    {\n\n\n\n\n        this.chrono.start();\n        this.stage = new Stage(this);\n        this.hero = new Hiro(this);\n        console.debug(this.ctx);\n\n\n        requestAnimationFrame(() => this.draw());\n    }\n\n\n    draw()\n    {\n\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n        let time = new TimeReader(this.chrono.elapsed), str = '';\n\n        if (time.hours > 0)\n        {\n            str += time.hours + ':';\n        }\n\n\n\n        str += time.minutes + ':';\n\n        str += time.seconds;\n\n        this.timer.innerHTML = 'temps : ' + str;\n\n\n        this.stage.draw();// tj en premier\n        this.hero.draw();\n\n\n\n        setTimeout(() =>\n        {\n            requestAnimationFrame(() => this.draw());\n        }, 16);\n    }\n}","\n/**\n * Put it last if overriding other styles\n */\nimport { Chronometer } from '../modules/components/timer.mjs';\nimport '../scss/main.scss';\nimport GameWorld from './game/GameWorld.js';\nconst timer = document.querySelector('.time'), chrono = new Chronometer();\n\n\n\n\n// Variables de base pour le saut, la collision, le déplacement des images\n\nconst world = new GameWorld({\n    element: document.querySelector('#game'),\n    timer,\n    chrono\n\n});\n\nworld.init();\n\n\n\n\n\n\n\n// addEventListener('keyup', ({ key }) =>\n// {\n\n//     console.debug(key === ' ');\n\n\n\n// });"],"names":["document"],"mappings":"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"}